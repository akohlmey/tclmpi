<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TclMPI: tclmpi_test Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TclMPI
   &#160;<span id="projectnumber">1.2</span>
   </div>
   <div id="projectbrief">Tcl Bindings for MPI</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('namespacetclmpi__test.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">tclmpi_test Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2b34b1d3dcad80f5af1d4de40c138788"><td class="memItemLeft" align="right" valign="top">proc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#a2b34b1d3dcad80f5af1d4de40c138788">test_format</a> (kind, cmd, result)</td></tr>
<tr class="separator:a2b34b1d3dcad80f5af1d4de40c138788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2af27af4290ba66f8eaf3e730d495d16"><td class="memItemLeft" align="right" valign="top">proc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#a2af27af4290ba66f8eaf3e730d495d16">compare</a> (reflist, result)</td></tr>
<tr class="separator:a2af27af4290ba66f8eaf3e730d495d16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20cd88e6bb5cce848e803dc64c33fa83"><td class="memItemLeft" align="right" valign="top">proc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#a20cd88e6bb5cce848e803dc64c33fa83">ser_init</a> (args)</td></tr>
<tr class="separator:a20cd88e6bb5cce848e803dc64c33fa83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c8dbe4fad5c9d1030c28f2e101dac08"><td class="memItemLeft" align="right" valign="top">proc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#a9c8dbe4fad5c9d1030c28f2e101dac08">par_init</a> (args)</td></tr>
<tr class="separator:a9c8dbe4fad5c9d1030c28f2e101dac08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0b07854c2f2b2b9481935d55f1e537c"><td class="memItemLeft" align="right" valign="top">proc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#ad0b07854c2f2b2b9481935d55f1e537c">run_return</a> (cmd, retval)</td></tr>
<tr class="separator:ad0b07854c2f2b2b9481935d55f1e537c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada6f101b858a9c1cd232249946239a20"><td class="memItemLeft" align="right" valign="top">proc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#ada6f101b858a9c1cd232249946239a20">run_error</a> (cmd, errormsg)</td></tr>
<tr class="separator:ada6f101b858a9c1cd232249946239a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1adb7e81b1b751d956b8d9e0286b8c05"><td class="memItemLeft" align="right" valign="top">proc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#a1adb7e81b1b751d956b8d9e0286b8c05">par_return</a> (cmd, retval, <a class="el" href="namespacetclmpi__test.html#a32839155b3473d5bd7566a1d60bc1047">comm</a>=<a class="el" href="namespacetclmpi.html#a59fb2c1ff4f847ecb1e4fe4fa5b89b9e">tclmpi::comm_world</a>)</td></tr>
<tr class="separator:a1adb7e81b1b751d956b8d9e0286b8c05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6043ffe33afd628de177674fdd84582c"><td class="memItemLeft" align="right" valign="top">proc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#a6043ffe33afd628de177674fdd84582c">par_error</a> (cmd, retval, <a class="el" href="namespacetclmpi__test.html#a32839155b3473d5bd7566a1d60bc1047">comm</a>=<a class="el" href="namespacetclmpi.html#a59fb2c1ff4f847ecb1e4fe4fa5b89b9e">tclmpi::comm_world</a>)</td></tr>
<tr class="separator:a6043ffe33afd628de177674fdd84582c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a933b52337ae42dc050bb64ee772d470f"><td class="memItemLeft" align="right" valign="top">proc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#a933b52337ae42dc050bb64ee772d470f">test_summary</a> (section)</td></tr>
<tr class="separator:a933b52337ae42dc050bb64ee772d470f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a364d080c650a9f927e718f6fc981cadd"><td class="memItemLeft" align="right" valign="top"><a id="a364d080c650a9f927e718f6fc981cadd"></a>
set&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#a364d080c650a9f927e718f6fc981cadd">version</a></td></tr>
<tr class="memdesc:a364d080c650a9f927e718f6fc981cadd"><td class="mdescLeft">&#160;</td><td class="mdescRight">version of the package <br /></td></tr>
<tr class="separator:a364d080c650a9f927e718f6fc981cadd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32839155b3473d5bd7566a1d60bc1047"><td class="memItemLeft" align="right" valign="top"><a id="a32839155b3473d5bd7566a1d60bc1047"></a>
variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#a32839155b3473d5bd7566a1d60bc1047">comm</a> = <a class="el" href="namespacetclmpi.html#a59fb2c1ff4f847ecb1e4fe4fa5b89b9e">tclmpi::comm_world</a></td></tr>
<tr class="memdesc:a32839155b3473d5bd7566a1d60bc1047"><td class="mdescLeft">&#160;</td><td class="mdescRight">shortcut for world communicator <br /></td></tr>
<tr class="separator:a32839155b3473d5bd7566a1d60bc1047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a804accb828b93231985b4533841b3104"><td class="memItemLeft" align="right" valign="top"><a id="a804accb828b93231985b4533841b3104"></a>
variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#a804accb828b93231985b4533841b3104">master</a> = 0</td></tr>
<tr class="memdesc:a804accb828b93231985b4533841b3104"><td class="mdescLeft">&#160;</td><td class="mdescRight">rank of MPI master process <br /></td></tr>
<tr class="separator:a804accb828b93231985b4533841b3104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86c32d248f1d035aae27e5d8a09f511b"><td class="memItemLeft" align="right" valign="top"><a id="a86c32d248f1d035aae27e5d8a09f511b"></a>
variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#a86c32d248f1d035aae27e5d8a09f511b">rank</a> = 0</td></tr>
<tr class="memdesc:a86c32d248f1d035aae27e5d8a09f511b"><td class="mdescLeft">&#160;</td><td class="mdescRight">rank of this MPI process on $comm <br /></td></tr>
<tr class="separator:a86c32d248f1d035aae27e5d8a09f511b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e3bf0b41cfd74e3b7293716d5c0db65"><td class="memItemLeft" align="right" valign="top"><a id="a0e3bf0b41cfd74e3b7293716d5c0db65"></a>
variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#a0e3bf0b41cfd74e3b7293716d5c0db65">size</a> = 1</td></tr>
<tr class="memdesc:a0e3bf0b41cfd74e3b7293716d5c0db65"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of processes on $comm <br /></td></tr>
<tr class="separator:a0e3bf0b41cfd74e3b7293716d5c0db65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3b61fcba689d09369a022cbc432df83"><td class="memItemLeft" align="right" valign="top"><a id="ac3b61fcba689d09369a022cbc432df83"></a>
variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#ac3b61fcba689d09369a022cbc432df83">int</a> = tclmpi::int</td></tr>
<tr class="memdesc:ac3b61fcba689d09369a022cbc432df83"><td class="mdescLeft">&#160;</td><td class="mdescRight">shortcut for <a class="el" href="namespacetclmpi.html#a1cabae47e0cff6dfb26f3013347158ac" title="constant for integer data type">tclmpi::int</a> data type <br /></td></tr>
<tr class="separator:ac3b61fcba689d09369a022cbc432df83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa85928104e19a22098e1b2d0a1cf33ce"><td class="memItemLeft" align="right" valign="top"><a id="aa85928104e19a22098e1b2d0a1cf33ce"></a>
variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#aa85928104e19a22098e1b2d0a1cf33ce">intint</a> = tclmpi::intint</td></tr>
<tr class="memdesc:aa85928104e19a22098e1b2d0a1cf33ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">shortcut for <a class="el" href="namespacetclmpi.html#a85d526e92283876d984ff5024bbb282a" title="constant for integer pair data type">tclmpi::intint</a> data type <br /></td></tr>
<tr class="separator:aa85928104e19a22098e1b2d0a1cf33ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3654e7b88d55937e5bec13e33659e440"><td class="memItemLeft" align="right" valign="top"><a id="a3654e7b88d55937e5bec13e33659e440"></a>
variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#a3654e7b88d55937e5bec13e33659e440">maxloc</a> = tclmpi::maxloc</td></tr>
<tr class="memdesc:a3654e7b88d55937e5bec13e33659e440"><td class="mdescLeft">&#160;</td><td class="mdescRight">shortcut for <a class="el" href="namespacetclmpi.html#abb84ee2bfb2dd5ef82aa012a40457879" title="maximum and location operation">tclmpi::maxloc</a> operator <br /></td></tr>
<tr class="separator:a3654e7b88d55937e5bec13e33659e440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc2129549637a8f43cd7651e8073f40"><td class="memItemLeft" align="right" valign="top"><a id="aedc2129549637a8f43cd7651e8073f40"></a>
variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#aedc2129549637a8f43cd7651e8073f40">minloc</a> = tclmpi::minloc</td></tr>
<tr class="memdesc:aedc2129549637a8f43cd7651e8073f40"><td class="mdescLeft">&#160;</td><td class="mdescRight">shortcut for <a class="el" href="namespacetclmpi.html#acbeac8154a6e3e91d5c621ede793170a" title="minimum and location operation">tclmpi::minloc</a> operator <br /></td></tr>
<tr class="separator:aedc2129549637a8f43cd7651e8073f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a647b3b35bf48fea856217e06f988678a"><td class="memItemLeft" align="right" valign="top"><a id="a647b3b35bf48fea856217e06f988678a"></a>
variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#a647b3b35bf48fea856217e06f988678a">pass</a> = 0</td></tr>
<tr class="memdesc:a647b3b35bf48fea856217e06f988678a"><td class="mdescLeft">&#160;</td><td class="mdescRight">counter for successful tests <br /></td></tr>
<tr class="separator:a647b3b35bf48fea856217e06f988678a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac361ddb997561ceaaa76f262af901e2"><td class="memItemLeft" align="right" valign="top"><a id="aac361ddb997561ceaaa76f262af901e2"></a>
variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetclmpi__test.html#aac361ddb997561ceaaa76f262af901e2">fail</a> = 0</td></tr>
<tr class="memdesc:aac361ddb997561ceaaa76f262af901e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">counter for failed tests <br /></td></tr>
<tr class="separator:aac361ddb997561ceaaa76f262af901e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>TclMPI test harness implementation namespace</p>
<p>This namespace contains several Tcl procedures that are used to conduct unit tests on the TclMPI package. For simplicity paths are hardcoded, so that this file must not be moved around and stay in the same directory as the individual tests, which in turn have to be in a subdirectory of the directory where the TclMPI shared object and/or the tclmpish extended Tcl shell reside. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a2af27af4290ba66f8eaf3e730d495d16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2af27af4290ba66f8eaf3e730d495d16">&#9670;&nbsp;</a></span>compare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proc tclmpi_test::compare </td>
          <td>(</td>
          <td class="paramtype">reflist&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">result&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>partial result and error message comparison </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reflist</td><td>list of strings that have to appear in the result </td></tr>
    <tr><td class="paramname">result</td><td>result string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if all reflist strings were found in result</dd></dl>
<p>This function does an inexact comparison of the reference data to the actual result. The reference is a list of strings, each of which has to be matched in a case insensitive string search. The function returns a 1 if all tests did match. </p>

</div>
</div>
<a id="a6043ffe33afd628de177674fdd84582c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6043ffe33afd628de177674fdd84582c">&#9670;&nbsp;</a></span>par_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proc tclmpi_test::par_error </td>
          <td>(</td>
          <td class="paramtype">cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">retval&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacetclmpi__test.html#a32839155b3473d5bd7566a1d60bc1047">comm</a>&#160;</td>
          <td class="paramname"> = <code><a class="el" href="namespacetclmpi.html#a59fb2c1ff4f847ecb1e4fe4fa5b89b9e">tclmpi::comm_world</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>run a parallel test that is expected to produce a Tcl error </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>list of strings or lists with the commands to execute </td></tr>
    <tr><td class="paramname">retval</td><td>list of the expected error message(s) or return values </td></tr>
    <tr><td class="paramname">comm</td><td>communicator. defaults to world communicator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>empty</dd></dl>
<p>This function executes the lists command lines passed in $cmd in parallel each command taken from the list based on the rank of the individual MPI task on the communicator and intercepts its resulting error message or return value using the 'catch' command. It is then checked if one of the commands failed as expected and actual return value are then compared against the expected reference passed in the $retval list with similar assignments to the individual ranks as the commands. If one of the strings does not match or all command unexpectedly succeeded failure is reported otherwise success. </p>

</div>
</div>
<a id="a9c8dbe4fad5c9d1030c28f2e101dac08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c8dbe4fad5c9d1030c28f2e101dac08">&#9670;&nbsp;</a></span>par_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proc tclmpi_test::par_init </td>
          <td>(</td>
          <td class="paramtype">args&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>init for parallel tests </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>all parameters are ignored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>empty</dd></dl>
<p>This function will perform an initialization of the parallel environment for subsequent parallel tests. It also initializes the global variables $rank and $size. </p>

</div>
</div>
<a id="a1adb7e81b1b751d956b8d9e0286b8c05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1adb7e81b1b751d956b8d9e0286b8c05">&#9670;&nbsp;</a></span>par_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proc tclmpi_test::par_return </td>
          <td>(</td>
          <td class="paramtype">cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">retval&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacetclmpi__test.html#a32839155b3473d5bd7566a1d60bc1047">comm</a>&#160;</td>
          <td class="paramname"> = <code><a class="el" href="namespacetclmpi.html#a59fb2c1ff4f847ecb1e4fe4fa5b89b9e">tclmpi::comm_world</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>run a parallel test that is expected to succeed </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>list of strings or lists with the commands to execute </td></tr>
    <tr><td class="paramname">retval</td><td>list of the expected return values </td></tr>
    <tr><td class="paramname">comm</td><td>communicator. defaults to world communicator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>empty</dd></dl>
<p>This function executes the lists command lines passed in $cmd in parallel each command taken from the list based on the rank of the individual MPI task on the communicator and intercepts its resulting return value using the 'catch' command. The actual return value is then compared against the expected reference passed in the $retval list, similarly assigned to the individual ranks as the commands. The result is compared on all ranks and if one of the commands failed or the actual return value is not equal to the expected one, failure is reported and both, expected and and actual results are printed on one of the failing ranks. The error reporting expects that the MPI communicator remains usable after failure. </p>

</div>
</div>
<a id="ada6f101b858a9c1cd232249946239a20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada6f101b858a9c1cd232249946239a20">&#9670;&nbsp;</a></span>run_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proc tclmpi_test::run_error </td>
          <td>(</td>
          <td class="paramtype">cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">errormsg&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>run a serial test that is expected to fail </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>string or list with the command to execute </td></tr>
    <tr><td class="paramname">errormsg</td><td>expected error message contents </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>empty</dd></dl>
<p>This function executes the command line passed in $cmd and intercepts its resulting error using the 'catch' command. The actual error message is then compared against the expected reference passed in $errormsg. The test is passed if the two strings match, otherwise failure is reported and both the expected and actual error messages are printed. Also an unexpectedly successful execution is considered a failure and its result reported for reference. </p>

</div>
</div>
<a id="ad0b07854c2f2b2b9481935d55f1e537c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0b07854c2f2b2b9481935d55f1e537c">&#9670;&nbsp;</a></span>run_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proc tclmpi_test::run_return </td>
          <td>(</td>
          <td class="paramtype">cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">retval&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>run a serial test that is expected to succeed </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>string or list with the command to execute </td></tr>
    <tr><td class="paramname">retval</td><td>expected return value contents </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>empty</dd></dl>
<p>This function executes the command line passed in $cmd and intercepts its resulting return value using the 'catch' command. The actual return value is then compared against the expected reference passed in $retval. The test is passed if the two strings match, otherwise failure is reported and both the expected and actual results are printed. Also an unexpectedly failure of the command is reported as failure and the resulting error message is reported for debugging. </p>

</div>
</div>
<a id="a20cd88e6bb5cce848e803dc64c33fa83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20cd88e6bb5cce848e803dc64c33fa83">&#9670;&nbsp;</a></span>ser_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proc tclmpi_test::ser_init </td>
          <td>(</td>
          <td class="paramtype">args&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>init for serial tests </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>all parameters are ignored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>empty</dd></dl>
<p>This function will perform a simple init test requesting the tclmpi package and matching it against the current verison number. It will also initialize some commonly used global variables. If called from a parallel environment, it will only execute and produce output on the master process </p>

</div>
</div>
<a id="a2b34b1d3dcad80f5af1d4de40c138788"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b34b1d3dcad80f5af1d4de40c138788">&#9670;&nbsp;</a></span>test_format()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proc tclmpi_test::test_format </td>
          <td>(</td>
          <td class="paramtype">kind&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">result&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>format output </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kind</td><td>string representing the kind of test (max 11 chars). </td></tr>
    <tr><td class="paramname">cmd</td><td>string representing the command. will be truncated as needed. </td></tr>
    <tr><td class="paramname">result</td><td>string indicating the result (PASS or FAIL/reason) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the formatted string</dd></dl>
<p>This function will format a test summary message, so that it does not break the output on a regular terminal screen. The first column will be the total number of the test computed from the sum of passed and failed tests, followed by a string describing the test type, the command executed and a result string. The command string in the middle will be truncated as needed to not break the format. </p>

</div>
</div>
<a id="a933b52337ae42dc050bb64ee772d470f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a933b52337ae42dc050bb64ee772d470f">&#9670;&nbsp;</a></span>test_summary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">proc tclmpi_test::test_summary </td>
          <td>(</td>
          <td class="paramtype">section&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>print result summary </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">section</td><td>number of the test section </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>empty</dd></dl>
<p>This function will print a nicely formatted summary of the tests. If executed in parallel only the master rank of the world communicator will produce output. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacetclmpi__test.html">tclmpi_test</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
